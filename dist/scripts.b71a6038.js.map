{"version":3,"sources":["scripts.js"],"names":["baseEndpoint","proxy","form","document","querySelector","recipesEl","ingCheckboxes","Array","from","querySelectorAll","fetchRecipes","query","ingredients","ingredientString","join","res","fetch","console","log","data","json","handleSubmit","event","preventDefault","el","currentTarget","fetchAndDisplay","value","submit","disabled","forEach","checkbox","checked","push","name","recipes","displayRecipes","results","html","map","recipe","title","thumbnail","href","innerHTML","addEventListener"],"mappings":"AAAA,MAAMA,YAAY,GAAG,gCAArB;AACA,MAAMC,KAAK,GAAG,sCAAd;AACA,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAb;AACA,MAAMC,SAAS,GAAGF,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAlB;AACA,MAAME,aAAa,GAAGC,KAAK,CAACC,IAAN,CAAWN,IAAI,CAACO,gBAAL,CAAsB,mBAAtB,CAAX,CAAtB;;AAEA,eAAeC,YAAf,CAA4BC,KAA5B,EAAmCC,WAAnC,EAAgD;AAC5C,QAAMC,gBAAgB,GAAGD,WAAW,CAACE,IAAZ,CAAiB,GAAjB,CAAzB;AACA,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEf,KAAM,GAAED,YAAa,MAAKW,KAAM,MAAKE,gBAAiB,EAA1D,CAAvB;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAa,GAAElB,YAAa,MAAKW,KAAM,MAAKE,gBAAiB,EAA7D;AACA,QAAMM,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAnB;AACA,SAAOD,IAAP;AACH;;AAED,MAAME,YAAY,GAAG,MAAMC,KAAN,IAAe;AAChCA,EAAAA,KAAK,CAACC,cAAN;AACA,QAAMC,EAAE,GAAGF,KAAK,CAACG,aAAjB;AACAC,EAAAA,eAAe,CAACF,EAAE,CAACb,KAAH,CAASgB,KAAV,CAAf;AACH,CAJD;;AAMA,eAAeD,eAAf,CAA+Bf,KAA/B,EAAsC;AAClC;AACAT,EAAAA,IAAI,CAAC0B,MAAL,CAAYC,QAAZ,GAAuB,IAAvB,CAFkC,CAGlC;;AACA,MAAIjB,WAAW,GAAG,EAAlB;AACAN,EAAAA,aAAa,CAACwB,OAAd,CAAsBC,QAAQ,IAAI;AAC9B,QAAIA,QAAQ,CAACC,OAAb,EAAsB;AAClBpB,MAAAA,WAAW,CAACqB,IAAZ,CAAiBF,QAAQ,CAACG,IAA1B;AACH;AACJ,GAJD;AAKA,QAAMC,OAAO,GAAG,MAAMzB,YAAY,CAACC,KAAD,EAAQC,WAAR,CAAlC,CAVkC,CAWjC;;AACDV,EAAAA,IAAI,CAAC0B,MAAL,CAAYC,QAAZ,GAAuB,KAAvB;AACAZ,EAAAA,OAAO,CAACC,GAAR,CAAYiB,OAAZ;AACAC,EAAAA,cAAc,CAACD,OAAO,CAACE,OAAT,CAAd;AACH;;AAED,SAASD,cAAT,CAAwBD,OAAxB,EAAiC;AAC7B,QAAMG,IAAI,GAAGH,OAAO,CAACI,GAAR,CAAYC,MAAM,IAAI;AAC/B,WAAQ;;sBAEMA,MAAM,CAACC,KAAM;qBACdD,MAAM,CAAC5B,WAAY;kBACtB4B,MAAM,CAACE,SAAP,IACG,aAAYF,MAAM,CAACE,SAAU;2BACvBF,MAAM,CAACE,SAAU,GAAG;2BACpBF,MAAM,CAACG,IAAK;;SAP/B;AAUH,GAXY,CAAb;AAYAtC,EAAAA,SAAS,CAACuC,SAAV,GAAsBN,IAAI,CAACxB,IAAL,CAAU,EAAV,CAAtB;AACH;;AAEDZ,IAAI,CAAC2C,gBAAL,CAAsB,QAAtB,EAAgCxB,YAAhC;AAEAK,eAAe,CAAC,OAAD,CAAf","file":"scripts.b71a6038.js","sourceRoot":"..","sourcesContent":["const baseEndpoint = \"http://www.recipepuppy.com/api\";\r\nconst proxy = 'https://cors-anywhere.herokuapp.com/';\r\nconst form = document.querySelector('.search');\r\nconst recipesEl = document.querySelector('.recipes');\r\nconst ingCheckboxes = Array.from(form.querySelectorAll('[type=\"checkbox\"]'))\r\n\r\nasync function fetchRecipes(query, ingredients) {\r\n    const ingredientString = ingredients.join(\",\");\r\n    const res = await fetch(`${proxy}${baseEndpoint}?q=${query}&i=${ingredientString}`);\r\n    console.log(`${baseEndpoint}?q=${query}&i=${ingredientString}`);\r\n    const data = await res.json();\r\n    return data;\r\n}\r\n\r\nconst handleSubmit = async event => {\r\n    event.preventDefault();\r\n    const el = event.currentTarget;\r\n    fetchAndDisplay(el.query.value);\r\n}\r\n\r\nasync function fetchAndDisplay(query) {\r\n    //turn the form off\r\n    form.submit.disabled = true;\r\n    //submit the search\r\n    let ingredients = [];\r\n    ingCheckboxes.forEach(checkbox => {\r\n        if (checkbox.checked) {\r\n            ingredients.push(checkbox.name);\r\n        }\r\n    })\r\n    const recipes = await fetchRecipes(query, ingredients);\r\n     //turn the form on\r\n    form.submit.disabled = false;\r\n    console.log(recipes);\r\n    displayRecipes(recipes.results);\r\n}\r\n\r\nfunction displayRecipes(recipes) {\r\n    const html = recipes.map(recipe => {\r\n        return `\r\n            <div class=\"recipe\">\r\n                <h2>${recipe.title}</h2>\r\n                <p>${recipe.ingredients}</p>\r\n                ${recipe.thumbnail && \r\n                    `<img src=\"${recipe.thumbnail}\" \r\n                    alt=\"${recipe.thumbnail}\"`}\r\n                <a href=\"${recipe.href}\">View Recipe -></a>\r\n            </div>\r\n        `;\r\n    });\r\n    recipesEl.innerHTML = html.join('');\r\n}\r\n\r\nform.addEventListener('submit', handleSubmit);\r\n\r\nfetchAndDisplay('pizza');"]}